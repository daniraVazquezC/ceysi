<div class="row mt-5">
  <div class="col-12 ">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb px-0">
        <li class="breadcrumb-item breadcrumb-item-green"><a href="/">Inicio</a></li>
        <li class="breadcrumb-item active" aria-current="page">Productos</li>
      </ol>
    </nav>
  </div>
  <div class="col-12 mb-4">
    <h3>Productos</h3>
  </div>
  <div class="col-12">
    <%= link_to "Agregar nuevo producto", new_product_path, class: "btn btn-primary"%>
  </div>
</div>

<div class="row mt-5">
  <%= search_form_for @search, html: {class: 'col-xl-12' }  do |f| %>
    <div class="form-group search-form-icons row">
      <div class="col-md-9 mt-1">
        <span class="fas fa-search"></span>
        <%= f.text_field :name_or_product_code_cont, class: 'form-control', placeholder: 'Nombre o código de producto' %>
      </div>
      <div class="col-md-3 mt-1">
        
        <%= f.submit class: 'btn btn-primary'%>
        <%= link_to "Limpiar", request.path, class: "btn btn-light" %>
      </div>      
    </div>
  <% end %>
</div>

<div class="row my-3">
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Código de producto</th>
        <th scope="col">Nombre de producto</th>
        <th scope="col">Existencia</th>
        <th scope="col">Precio</th>
        <th scope="col"></th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% @products.each do |product| %>
        <tr>
          <td><%= product.product_code %></td>
          <td><%= link_to product.name, product_path(product), class: "show-details" %></td>
          <td><%= product.stock %></td>
          <td><%= product.price %></td>
          <td>
            <%= link_to product_path(product), class: "general-green" do %> 
              <i class="far fa-eye"></i> Ver detalles
            <% end %>     
          </td>
          <td><i class="fas fa-edit general-green"></i> <%= link_to "Editar", edit_product_path(product), class:"edit-details" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="row pagination-sm justify-content-center my-3" >
  <%= paginate @products %>
</div>

